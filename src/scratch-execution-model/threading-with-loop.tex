\documentclass[tikz,crop]{standalone}

\include{../tikz-preamble}

\begin{document}

\begin{tikzpicture}[x=0.75cm,y=0.75cm,every node/.style={font=\small}]

  \draw[arrow, ultra thick] (0,0.1) -- (0,-23);

  % Draw horizontal lines
  \foreach \y [count=\yi] in {0,5.75,11.5,17.25} {
    \node[draw=none,anchor=east] at (-0.4,-\y) {\qty[evaluate-expression]{\fpeval{\yi*0.33}}{\milli\second}};
    \draw (-0.3,-\y) -- (0,-\y);
  }

  \foreach \y [count=\yi] in {5.25,11,16.75,22.5} {
    \draw [ugent-re] (-0.6,-\y) -- (5.5,-\y);
    \node[anchor=east,text=ugent-re] at (-0.6,-\y) {draw};
  }

  \node[hnode, minimum height=5\block, minimum width=5\block,label={[fieldset,above left=-0.53\block and 0.6\block]Step 1}] at (3, -2.5) {};

  \node[hnode, minimum height=4\block, minimum width=4.5\block,label={[fieldset,above left=-0.5\block and 0.6\block]Tick 1}] at (3, -2.75) {
    \begin{scratch}[scale=0.5,baseline=3]
      \blockrepeat{repeat \ovalnum{4}}{
        \blockmove{move  \ovalnum{100} steps}
        \blockmove{turn \turnleft{} \ovalnum{90} degrees}
      }
    \end{scratch} \\
    Thread 1
  };

  \node[hnode, minimum height=5\block, minimum width=5\block,label={[fieldset,above left=-0.53\block and 0.6\block]Step 2}] at (3, -8.25) {};

  \node[hnode, minimum height=4\block, minimum width=4.5\block,label={[fieldset,above left=-0.5\block and 0.6\block]Tick 1}] at (3, -8.5) {
    \begin{scratch}[scale=0.5,baseline=3]
      \blockrepeat{repeat \ovalnum{3}}{
        \blockmove{move  \ovalnum{100} steps}
        \blockmove{turn \turnleft{} \ovalnum{90} degrees}
      }
    \end{scratch} \\
    Thread 1
  };

  \node[hnode, minimum height=5\block, minimum width=5\block,label={[fieldset,above left=-0.53\block and 0.6\block]Step 3}] at (3, -14) {};

  \node[hnode, minimum height=4\block, minimum width=4.5\block,label={[fieldset,above left=-0.5\block and 0.6\block]Tick 1}] at (3, -14.25) {
    \begin{scratch}[scale=0.5,baseline=3]
      \blockrepeat{repeat \ovalnum{2}}{
        \blockmove{move  \ovalnum{100} steps}
        \blockmove{turn \turnleft{} \ovalnum{90} degrees}
      }
    \end{scratch} \\
    Thread 1
  };

  \node[hnode, minimum height=5\block, minimum width=5\block,label={[fieldset,above left=-0.53\block and 0.6\block]Step 4}] at (3, -19.75) {};

  \node[hnode, minimum height=4\block, minimum width=4.5\block,label={[fieldset,above left=-0.5\block and 0.6\block]Tick 1}] at (3, -20) {
    \begin{scratch}[scale=0.5,baseline=3]
      \blockrepeat{repeat \ovalnum{1}}{
        \blockmove{move  \ovalnum{100} steps}
        \blockmove{turn \turnleft{} \ovalnum{90} degrees}
      }
    \end{scratch} \\
    Thread 1
  };
\end{tikzpicture}

\end{document}
